{
	"settings": {
		"index" : {
            "number_of_shards" : 1,
            "number_of_replicas" : 0
        },
		"analysis": {
			"analyzer": {
			    "sample_analyzer": {
			      "type": "custom",
			      "tokenizer": "keyword",
			      "filter": [
			        "lowercase",
			        "trim"
			      ]
			    }
			  },
			"normalizer": {
				"lemma_normalizer": {
					"type": "custom",
					"char_filter": ["lemma_char_filter"],
					"filter": ["lowercase"]
				}
			},
			"char_filter": {
				"lemma_char_filter": {
					"type": "pattern_replace",
					"pattern": "\\-$",
					"replacement": ""
				}
			}
		}
	},
	"mappings": {
		"doc": {
			"properties": {
				"id":				{ "type": "keyword" },
				"index":			{ "type": "short" },
				"book": 			{ "type": "short" },
				"hymn": 			{ "type": "short" },
				"verse":			{ "type": "short" },
				"hymnAddressee":	{ "type": "keyword" },
				"hymnGroup":		{ "type": "keyword" },
				"strata":			{ "type": "keyword" },
				"translation": 		{ "type": "text", "store": true },
				"form": 			{ "type": "text", "store": true },
				"form_raw": 		{ "type": "text", "store": true },
				"tokens": {
					"type": "nested",
					"properties": {
						"index":		{ "type": "short" },
						"form":			{ "type": "keyword" },
						"lemma":		{ "type": "text"}
					}
				}
			},
			"dynamic_templates": [
				{
				  	"morph_glossings": {
				  		"path_match":   "tokens.grammar.*",
					    "mapping": {
							"type": "keyword"
					    }
				  	}
				}
			]
		}
	}
}